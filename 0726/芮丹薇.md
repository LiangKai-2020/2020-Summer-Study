# 互联网
## 概述
网络与网络之间所串连成的庞大网络，这些网络以一组通用的协议相连du，形成逻辑上的单zhi一巨大国际网络。通常internet泛指互联网，而Internet则特指因特网。  
这种将计算机网络互相联接在一起的方法可称作“网络互联”，在这基础上发展出覆盖全世界的全球性互联网络称互联网，即是互相连接一起的网络结构。  
## 工作原理  
计算机网络是由许多计算机组成的，要实现网络的计算机之间传输数据，必须要做两件事，数据传输目的地址和保证数据迅速可靠传输的措施，这是因为数据在传输过程中很容易丢失或传错。  
Internet使用一种专门的计算机语言(协议)，以保证数据安全、可靠地到达指定的目的地，这种语言分两部TCP(Transmission Control Protocol　传输控制协议)和 IP (Internet Protocol网间协议)sure网络营销理论。  
TCP/IP协议的数据传输过程：TCP/IP协议所采用的通信方式是分组交换方式。所谓分组交换，简单说就是数据。  
在传输时分成若干段，每个数据段称为一个数据包，TCP/IP协议的基本传输单位是数据包，TCP/IP协议主要包括两个主要的协议，即TCP协议和IP协议，这两个协议可以　联合使用，也可以与其他协议联合使用，它们在数据传输过程中主要完成以下功能:  
1. 首先由TCP协议把数据分成若干数据包，给每个数据包写上序号，以便接收端把数据还原成原来的格式。  
2. IP协议给每个数据包写上发送主机和接收主机的地址，一旦写上源地址和目的地址，数据包就可以在物理网上传送数据了。IP协议还具有利用路由算法进行路由选择的功能。  
3. 这些数据包可以通过不同的传输途径(路由)进行传输，由于路径不同，加上其它的原因，可能出现顺序颠倒、数据丢失、数据失真甚至重复的现象。这些问题都由TCP协议来处理，它具有检查和处理错误的功能， 必要时还可以请求发送端重发。简言之，IP协议负责数据的传输，而TCP协议负责数据的可靠传输。  
互联网在现实生活中应用很广泛。在互联网上可以聊天、玩游戏、查阅东西等。更为重要的是在互联网上还可以进行 广告宣传和购物。互联网给现实生活带来很大的方便。网民在互联网上可以在数字知识库里寻找自己学业上、事业上的所需，从而帮助网民的工作与学习。  
互联网在现实的应用很广泛，每天有数以亿计的人使用互联网，大家用它来聊天，了解资讯，购物等种种，也不乏一些人利用互联网为自己的产品宣传，因此也促使了一些新兴行业的诞生，例如网络营销等等，互联网的影响正在日益影响着我们的生活，我们也将因此而获得更大的改变。  
## 优点  
互联网受欢迎的根本原因在于它的成本低，优点如下：  
1. 互联网能够不受空间限制来进行信息交换；  
2. 信息交换具有时域性（更新速度快）；  
3. 交换信息具有互动性（人与人，人与信息之间可以互动交流）；  
4. 信息交换的使用成本低（通过信息交换，代替实物交换）；  
5. 信息交换的发展趋向于个性化（容易满足每个人的个性化需求）；  
6. 使用者众多；  
7. 有价值的信息被资源整合，信息储存量大、高效、快速;  
8. 信息交换能以多种形式存在（视频、图片、文字等等）。  
## 互联网的标准化
“没有规矩，不成方圆”，统一的标准对一个行业的发展起着至关重要的作用。如果一个行业缺乏标准，那么技术的发展就会处于比较混乱的状态，该行业的各大厂商就会盲目自由竞争，最终给用户带来很大的不便。标准的制定又是一个很复杂的问题，标准制定得过早或过迟都会对技术的发展产生不良的影响。  
为了尽量避免标准制定过程中出现的问题，互联网在标准的制定上采用了面向大众的方式。所有的标准都以RFC文档的形式在网上发布，任何人都可以免费下载这些文档，任何人也可以用电子邮件随时发表对某个文档的意见或建议。RFC文档按照接收到的时间的先后顺序从小到大编上序号，大家参考时应以最新的文档为准。  
一个叫做因特网协会的国际性组织负责对互联网进行全面管理，其下有一个叫做因特网体系结构委员会的技术组织负责管理互联网有关协议的开发。IAB下面又设有两个工程部：因特网工程部IETF和因特网研究部IRTF，其中，IETF主要的工作是协议的开发和标准化，IRTF主要的工作是进行理论方面研究和开发一些需要长期考虑的问题。  
制订互联网的正式标准要经过以下四个阶段：  
1. 因特网草案  
2. 建议标准  
3. 草案标准  
4. 因特网标准 
## 互联网的分层模型  
作为一个彻底改变人类生活的发明，互联网必然存在特殊之处。为了让互联网能够稳定且高效地工作，在设计它的时候，前辈们富有远见地提出了“分层”的思想。“分层”即是要让复杂的问题简单化，大家各司其职，协同操作来完成一项任务。  
在互联网的发展史上，存在着两种分层模型：国际标准化组织(ISO)制定的开放系统互连参考模型和TCP/IP参考模型。  
### OSI参考模型  
OSI参考模型是一个开放式的计算机网络的层次结构模型，共分为七层。它是由ISO在1978年提出的，并在1983年成为了正式的国际标准。该模型的具体层次结构如图1所示。  
![](https://m.qpic.cn/psc?/V10OQot13yzIbG/ZUXCJANDCZJwMw9eDcmXBXnOjuSXYn0.4MxXTGGf14AP2oq2KMK2qE2oT4E8vt9ONdhoncsOvCtpNtpcBilUZg!!/mnull&bo=qAB*AQAAAAADB*Q!&rf=photolist&t=5)  
从图1可以看出，OSI参考模型从上到下包括了应用层、表示层、会话层、运输层、网络层、数据链路层和物理层这七个层次。  
1. 应用层：直接为用户的应用进程(进程是指正在运行的程序)提供服务，这些服务包括文件传输服务、数据库服务、电子邮件及其他网络软件服务。  
2. 表示层：在网络需要的格式和计算机可处理的格式之间进行数据翻译。  
3. 会话层：组织和同步不同主机上各种进程间的通信，负责在两个实体之间进行对话连接的建立和拆除。  
4. 运输层：通过对数据单元错误、数据单元次序和流量控制等问题的处理为用户提供可靠的服务。  
5. 网络层：使用适当的方法为数据选路，建立逻辑链路进行分组传输，以实现网络互连。  
6. 数据链路层：实现相邻节点间的可靠通信。  
7. 物理层：定义了建立、维护和拆除物理链路所需的机械、电气、功能和规程特性，以在物理介质上传输原始的数据比特流。  
### TCP/IP参考模型  
TCP/IP，传输控制协议/网际协议参考模型共分为四层。该模型的具体层次结构如图2所示。  
![](https://m.qpic.cn/psc?/V10OQot13yzIbG/ZUXCJANDCZJwMw9eDcmXBXnOjuSXYn0.4MxXTGGf14AP2oq2KMK2qE2oT4E8vt9ONdhoncsOvCtpNtpcBilUZg!!/mnull&bo=qAB*AQAAAAADB*Q!&rf=photolist&t=5)  
从图2可以看出，TCP/IP参考模型从上到下包括了应用层、运输层、网际层和网络接口层这四个层次。  
1. 应用层：向用户提供一组常用的应用程序。  
2. 运输层：负责传输数据，并且确定数据已被送达并接收。  
3. 网际层：负责数据的转发和路由，保证数据报到达目的主机。  
4. 网络接口层：负责对实际的网络媒体进行管理。  
### OSI参考模型和TCP/IP参考模型的比较  
从图1和图2的对比中可以看出，OSI参考模型的层次结构比TCP/IP参考模型的层次结构更全面和复杂。OSI试图追求完美，只要全世界所有的计算机网络都遵循这个统一的标准，那么所有的计算机都能够很方便地进行数据的交换。但愿望是美好的，现实是残酷的，TCP/IP已经成为了事实上的国际标准，因为它是从实践中逐渐发展起来的。现在，不仅在国际互联网Internet中，而且在局域网中也开始应用TCP/IP。  
从OSI和TCP/IP的发展历程和结果可以看出，一个标准要想被世人所接受，仅仅依靠在技术水平上的先进性是远远不够的，还必须要考虑市场背景。
## 互联网的分类
互联网的分类方式有很多种，我们可以根据网络的覆盖范围、交换方式、网络拓扑结构、不同使用者等进行分类。  
### 不同覆盖范围的网络  
根据覆盖范围的大小，我们可以将互联网分为三类：局域网LAN(Local Area Network)、城域网MAN(Metropolitan Area Network)和广域网WAN(Wide Area Network)。  
1. 局域网  
局域网用于将有限范围内(如1km左右)的各种计算机、终端与外部设备连接成网。局域网按照采用的技术、应用范围和协议标准的不同可以分为共享局域网与交换局域网。现在局域网已经被广泛地使用，一个学校或企业大都拥有许多个互连的局域网。  
2. 城域网  
城域网地理范围可从几十公里到上百公里，可覆盖一个城市或地区。它主要分布在一个城市内，是一种中等形式的网络。目前许多城域网采用的是以太网技术。  
3. 广域网  
广域网也称为远程网，其所覆盖的地理范围从几十公里到几千公里。广域网覆盖一个国家、地区，或横跨几个洲，形成国际性的远程网络。它将分布在不同地区的计算机系统互连起来，达到资源共享的目的。  
### 不同交换方式的网络  
根据交换方式的不同，我们可以将互联网分为三类：电路交换网、报文交换网和分组交换网。  
1. 电路交换网  
电路交换最早出现在电话系统中，早期的网络就是采用此方式来传输数据的。在电路交换网中，数字信号经过变换成为模拟信号后才能在线路上传输。  
2. 报文交换网  
这是一种数字化网络。当通信开始时，源端发出的一个数据报文被存储在交换器里，交换器根据数据报文的目的地址选择合适的路径来发送此报文。  
3. 分组交换网  
该网络采用报文传输数据，它将一个长的报文划分为许多定长的报文分组，以分组作为数据传输的基本单位。此种方式灵活性好且传输效率高，因此分组交换网已成为互联网的主流。  
### 不同拓扑结构的网络  
根据拓扑结构的不同，我们可以将互联网分为五类：星型网、总线型网、树型网、环型网和网状网。  
1. 星型网  
该类网络是以中央结点为中心与各结点连接而组成的，各个结点间不能直接通信，而是需要经过中央结点来进行数据的交换。  
![](https://m.qpic.cn/psc?/V10OQot13yzIbG/ZUXCJANDCZJwMw9eDcmXBQ90EDx68RnvvV.OYvtBDWTHaPQUPbhN*pZ6N6YNmpN3522tXBa1bHnPrQ0Qi5OBkg!!/mnull&bo=1wDGAAAAAAADBzM!&rf=photolist&t=5)  
2. 总线型网  
该类网络用一条称为总线的中央主电缆，将各结点之间以线性方式连接起来。它的特点是安装比较容易，扩充或删除一个结点时不需要让网络停止工作。  
![](https://m.qpic.cn/psc?/V10OQot13yzIbG/ZUXCJANDCZJwMw9eDcmXBeDppio2*Fs3Y9X6lJH*Dq6XBbC81zT4x0EcnqxYDFxGJJgAuEF9zPk5fgZPkDZRoA!!/mnull&bo=.wDJAAAAAAADBxA!&rf=photolist&t=5)  
3. 树型网  
该类网络是总线型结构的扩展，它是在总线网上加上分支形成的。其传输介质可有多条分支，但不形成闭合回路。它的优点是容易扩展，出现的故障也容易分离处理。  
![](https://m.qpic.cn/psc?/V10OQot13yzIbG/ZUXCJANDCZJwMw9eDcmXBTjCCvLIuofOWlvNM.DkHIsW.gKlMEBlmcK2wPLqxe81bEfbLpQo7gvpCRaylWrzFA!!/mnull&bo=BAHUAAAAAAADB*M!&rf=photolist&t=5)  
4. 环型网  
该类网络中各结点通过环路接口连在一条首尾相连的闭合环形通信线路中，环路上任何结点均可以请求发送信息。它特别适用于实时控制的局域网系统中。  
![](https://m.qpic.cn/psc?/V10OQot13yzIbG/ZUXCJANDCZJwMw9eDcmXBUft6pT1LL2few5tXO5196fFjzT.uwoK8O6.PsTFRqYRpgK.6hrc9coHnTkzZwAHDQ!!/mnull&bo=AgHPAAAAAAADB.4!&rf=photolist&t=5)  
5. 网状网  
该类网络是将多个子网或多个网络连接起来构成的。在一个子网中，集线器、中继器将多个设备连接起来，而桥接器、路由器及网关则将各个子网连接起来。  
![](https://m.qpic.cn/psc?/V10OQot13yzIbG/ZUXCJANDCZJwMw9eDcmXBX0m8njQ3hX0IdE5gAzwzNwoI.HW8rn075oFO1Aitw4JxH6*W8YKBWgmUjPK4HrXEg!!/mnull&bo=8ADYAAAAAAADBwo!&rf=photolist&t=5)  
### 不同使用者的网络  
根据使用者的不同，我们可以将互联网分为两类：公用网和专用网。  
1. 公用网  
该类网络是由电信公司出资建造的大型网络，也可被称作公众网。  
2. 专用网  
该类网络是由某个单位为了自己的特殊业务工作的需要而建造的网络，它不向本单位以外的人提供服务。  
## 互联网的组成  
互联网在地理上覆盖了全球，其结构是非常复杂的。但是，从其工作方式上来看，互联网由两大部分组成：核心部分和边缘部分。  
核心部分由大量的网络和连接这些网络的路由器组成，负责网络数据传输和转发等通信处理任务。  
路由器是互联网核心部分的一个重要组成部分，它是一种专用计算机，负责转发收到的数据分组包，这也是网络核心部分的最重要的功能。  
边缘部分由所有连接在互联网上的主机和终端组成。用户直接使用这些主机和终端进行通信和资源共享。  
在该部分中用户之间的通信分为两大类：客户/服务器(C/S)方式和对等(P2P)方式。  
C/S方式描述的是用户之间服务和被服务的关系，其中，客户是服务请求方，服务器是服务提供方。  
P2P方式描述的是两个用户在通信时并不区分哪一个是服务请求方或服务提供方。只要在两个用户的主机上都运行了对等连接的软件，那么它们就可以进行平等的连接通信。  
# HTTP  
HTTP协议（HyperText Transfer Protocol，超文本传输协议）是因特网上应用最为广泛的一种网络传输协议，所有的WWW文件都必须遵守这个标准。  
HTTP是一个基于TCP/IP通信协议来传递数据（HTML 文件, 图片文件, 查询结果等）。  
## HTTP简介  
HTTP协议是Hyper Text Transfer Protocol（超文本传输协议）的缩写,是用于从万维网（WWW:World Wide Web ）服务器传输超文本到本地浏览器的传送协议。  
HTTP是一个基于TCP/IP通信协议来传递数据（HTML 文件, 图片文件, 查询结果等）。  
## HTT工作原理  
HTTP协议工作于客户端-服务端架构上。浏览器作为HTTP客户端通过URL向HTTP服务端即WEB服务器发送所有请求。  
Web服务器有：Apache服务器，IIS服务器（Internet Information Services）等。  
Web服务器根据接收到的请求后，向客户端发送响应信息。  
HTTP默认端口号为80，但是也可以改为8080或者其他端口。  
HTTP三点注意事项：  
1. HTTP是无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。  
2. HTTP是媒体独立的：这意味着，只要客户端和服务器知道如何处理的数据内容，任何类型的数据都可以通过HTTP发送。客户端以及服务器指定使用适合的MIME-type内容类型。  
3. HTTP是无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。  
以下图表展示了HTTP协议通信流程：  
![](https://m.qpic.cn/psc?/V10OQot13yzIbG/ZUXCJANDCZJwMw9eDcmXBaAWJBMdZ5OVxLlq28JFXBfxDmbD.RfWfbel4MMHPcUrdO0VLw1mWbTZ8mnz.7C5Eg!!/mnull&bo=VgHmAAAAAAADB5M!&rf=photolist&t=5)  
## HTTP消息结构  
HTTP是基于客户端/服务端（C/S）的架构模型，通过一个可靠的链接来交换信息，是一个无状态的请求/响应协议。  
一个HTTP"客户端"是一个应用程序（Web浏览器或其他任何客户端），通过连接到服务器达到向服务器发送一个或多个HTTP的请求的目的。  
一个HTTP"服务器"同样也是一个应用程序（通常是一个Web服务，如Apache Web服务器或IIS服务器等），通过接收客户端的请求并向客户端发送HTTP响应数据。  
HTTP使用统一资源标识符（Uniform Resource Identifiers, URI）来传输数据和建立连接。  
一旦建立连接后，数据消息就通过类似Internet邮件所使用的格式[RFC5322]和多用途Internet邮件扩展（MIME）[RFC2045]来传送。  
客户端请求消息  
客户端发送一个HTTP请求到服务器的请求消息包括以下格式：请求行（request line）、请求头部（header）、空行和请求数据四个部分组成，下图给出了请求报文的一般格式。  
![](https://m.qpic.cn/psc?/V10OQot13yzIbG/ZUXCJANDCZJwMw9eDcmXBcKx4bjZSCLPvmVNkt*cQKE3WuwcqsWxOjQzOKo0EE8FWX5n3DrPPHTSQFCKRHp.sw!!/mnull&bo=3gGwAAAAAAADB00!&rf=photolist&t=5)  
服务器响应消息  
HTTP响应也由四个部分组成，分别是：状态行、消息报头、空行和响应正文。  
![](https://m.qpic.cn/psc?/V10OQot13yzIbG/ZUXCJANDCZJwMw9eDcmXBSWImArsjppoJ1zl.mIk545.mXpiA0w61Wqkp.EkO71j.pCgCtZnRiB.AF1FicnbRA!!/mnull&bo=RwIqAQAAAAADB0w!&rf=photolist&t=5)  
## HTTP请求方法
根据HTTP标准，HTTP请求可以使用多种请求方法。HTTP协议中共定义了八种方法或者叫“动作”来表明对 Request-URI 指定的资源的不同操作方式，具体介绍如下：  
OPTIONS：返回服务器针对特定资源所支持的HTTP请求方法。也可以利用向Web服务器发送'*'的请求来测试服务器的功能性。  
HEAD：向服务器索要与GET请求相一致的响应，只不过响应体将不会被返回。这一方法可以在不必传输整个响应内容的情况下，就可以获取包含在响应消息头中的元信息。  
GET：向特定的资源发出请求。  
POST：向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的创建和/或已有资源的修改。  
PUT：向指定资源位置上传其最新内容。  
DELETE：请求服务器删除 Request-URI 所标识的资源。  
TRACE：回显服务器收到的请求，主要用于测试或诊断。  
CONNECT：HTTP/1.1 协议中预留给能够将连接改为管道方式的代理服务器。  
虽然HTTP的请求方式有8种，但是我们在实际应用中常用的也就是get和post，其他请求方式也都可以通过这两种方式间接的来实现。  
## HTTP响应头信息  
HTTP请求头提供了关于请求，响应或者其他的发送实体的信息。  
Allow:服务器支持哪些请求方法（如GET、POST等）。  
Content-Encoding:文档的编码（Encode）方法。只有在解码之后才可以得到Content-Type头指定的内容类型。利用gzip压缩文档能够显著地减少HTML文档的下载时间。Java的GZIPOutputStream可以很方便地进行gzip压缩，但只有Unix上的Netscape和Windows上的IE 4、IE 5才支持它。因此，Servlet应该通过查看Accept-Encoding头（即request.getHeader("Accept-Encoding")）检查浏览器是否支持gzip，为支持gzip的浏览器返回经gzip压缩的HTML页面，为其他浏览器返回普通页面。  
Content-Length:表示内容长度。只有当浏览器使用持久HTTP连接时才需要这个数据。如果你想要利用持久连接的优势，可以把输出文档写入 ByteArrayOutputStream，完成后查看其大小，然后把该值放入Content-Length头，最后通过byteArrayStream.writeTo(response.getOutputStream()发送内容。  
Content-Type:表示后面的文档属于什么MIME类型。Servlet默认为text/plain，但通常需要显式地指定为text/html。由于经常要设置Content-Type，因此HttpServletResponse提供了一个专用的方法setContentType。  
Date:当前的GMT时间。你可以用setDateHeader来设置这个头以避免转换时间格式的麻烦。  
Expires:应该在什么时候认为文档已经过期，从而不再缓存它？  
Last-Modified:文档的最后改动时间。客户可以通过If-Modified-Since请求头提供一个日期，该请求将被视为一个条件GET，只有改动时间迟于指定时间的文档才会返回，否则返回一个304（Not Modified）状态。Last-Modified也可用setDateHeader方法来设置。  
Location:表示客户应当到哪里去提取文档。Location通常不是直接设置的，而是通过HttpServletResponse的sendRedirect方法，该方法同时设置状态代码为302。  
Refresh:表示浏览器应该在多少时间之后刷新文档，以秒计。除了刷新当前文档之外，你还可以通过setHeader("Refresh", "5; URL=http://host/path")让浏览器读取指定的页面。 
注意这种功能通常是通过设置HTML页面HEAD区的＜META HTTP-EQUIV="Refresh" CONTENT="5;URL=http://host/path"＞实现，这是因为，自动刷新或重定向对于那些不能使用CGI或Servlet的HTML编写者十分重要。但是，对于Servlet来说，直接设置Refresh头更加方便。  
注意Refresh的意义是"N秒之后刷新本页面或访问指定页面"，而不是"每隔N秒刷新本页面或访问指定页面"。因此，连续刷新要求每次都发送一个Refresh头，而发送204状态代码则可以阻止浏览器继续刷新，不管是使用Refresh头还是＜META HTTP-EQUIV="Refresh" ...＞。   
注意Refresh头不属于HTTP 1.1正式规范的一部分，而是一个扩展，但Netscape和IE都支持它。  
Server:服务器名字。Servlet一般不设置这个值，而是由Web服务器自己设置。  
Set-Cookie:设置和页面关联的Cookie。Servlet不应使用response.setHeader("Set-Cookie", ...)，而是应使用HttpServletResponse提供的专用方法addCookie。参见下文有关Cookie设置的讨论。  
WWW-Authenticate:客户应该在Authorization头中提供什么类型的授权信息？在包含401（Unauthorized）状态行的应答中这个头是必需的。例如，response.setHeader("WWW-Authenticate", "BASIC realm=＼"executives＼"")。  
注意Servlet一般不进行这方面的处理，而是让Web服务器的专门机制来控制受密码保护页面的访问（例如.htaccess）。  
## HTTP状态码  
当浏览者访问一个网页时，浏览者的浏览器会向网页所在服务器发出请求。当浏览器接收并显示网页前，此网页所在的服务器会返回一个包含HTTP状态码的信息头（server header）用以响应浏览器的请求。  
HTTP状态码的英文为HTTP Status Code。  
下面是常见的HTTP状态码：  
200 - 请求成功  
301 - 资源（网页等）被永久转移到其它URL  
404 - 请求的资源（网页等）不存在  
500 - 内部服务器错误  
HTTP状态码由三个十进制数字组成，第一个十进制数字定义了状态码的类型，后两个数字没有分类的作用。HTTP状态码共分为5种类型：  
1**  	信息，服务器收到请求，需要请求者继续执行操作  
2** 	成功，操作被成功接收并处理  
3**	    重定向，需要进一步的操作以完成请求  
4** 	客户端错误，请求包含语法错误或无法完成请求  
5** 	服务器错误，服务器在处理请求的过程中发生了错误  
HTTP状态码列表:  
100	Continue	继续。客户端应继续其请求  
101	Switching Protocols	切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到HTTP的新版本协议  
200	OK	请求成功。一般用于GET与POST请求  
201	Created	已创建。成功请求并创建了新的资源  
202	Accepted	已接受。已经接受请求，但未处理完成  
203	Non-Authoritative Information	非授权信息。请求成功。但返回的meta信息不在原始的服务器，而是一个副本  
204	No Content	无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档  
205	Reset Content	重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域  
206	Partial Content	部分内容。服务器成功处理了部分GET请求  
300	Multiple Choices	多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择  
301	Moved Permanently	永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替  
302	Found	临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI  
303	See Other	查看其它地址。与301类似。使用GET和POST请求查看  
304	Not Modified	未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源  
305	Use Proxy	使用代理。所请求的资源必须通过代理访问  
306	Unused	已经被废弃的HTTP状态码  
307	Temporary Redirect	临时重定向。与302类似。使用GET请求重定向  
400	Bad Request	客户端请求的语法错误，服务器无法理解  
401	Unauthorized	请求要求用户的身份认证  
402	Payment Required	保留，将来使用  
403	Forbidden	服务器理解请求客户端的请求，但是拒绝执行此请求  
404	Not Found	服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置"您所请求的资源无法找到"的个性页面  
405	Method Not Allowed	客户端请求中的方法被禁止  
406	Not Acceptable	服务器无法根据客户端请求的内容特性完成请求  
407	Proxy Authentication Required	请求要求代理的身份认证，与401类似，但请求者应当使用代理进行授权  
408	Request Time-out	服务器等待客户端发送的请求时间过长，超时  
409	Conflict	服务器完成客户端的 PUT 请求时可能返回此代码，服务器处理请求时发生了冲突  
410	Gone	客户端请求的资源已经不存在。410不同于404，如果资源以前有现在被永久删除了可使用410代码，网站设计人员可通过301代码指定资源的新位置  
411	Length Required	服务器无法处理客户端发送的不带Content-Length的请求信息  
412	Precondition Failed	客户端请求信息的先决条件错误  
413	Request Entity Too Large	由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个Retry-After的响应信息  
414	Request-URI Too Large	请求的URI过长（URI通常为网址），服务器无法处理  
415	Unsupported Media Type	服务器无法处理请求附带的媒体格式  
416	Requested range not satisfiable	客户端请求的范围无效  
417	Expectation Failed	服务器无法满足Expect的请求头信息  
500	Internal Server Error	服务器内部错误，无法完成请求  
501	Not Implemented	服务器不支持请求的功能，无法完成请求  
502	Bad Gateway	作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应  
503	Service Unavailable	由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中  
504	Gateway Time-out	充当网关或代理的服务器，未及时从远端服务器获取请求  
505	HTTP Version not supported	服务器不支持请求的HTTP协议的版本，无法完成处理  
## HTTP内容类型  
一般是指网页中存在的 Content-Type，用于定义网络文件的类型和网页的编码，决定浏览器将以什么形式、什么编码读取这个文件，这就是经常看到一些 PHP 网页点击的结果却是下载一个文件或一张图片的原因。  
Content-Type 标头告诉客户端实际返回的内容的内容类型。  
常见的媒体格式类型如下：  
text/html ： HTML格式  
text/plain ：纯文本格式  
text/xml ： XML格式  
image/gif ：gif图片格式  
image/jpeg ：jpg图片格式  
image/png：png图片格式  
以application开头的媒体格式类型：  
application/xhtml+xml ：XHTML格式  
application/xml： XML数据格式  
application/atom+xml ：Atom XML聚合格式  
application/json： JSON数据格式  
application/pdf：pdf格式  
application/msword ： Word文档格式  
application/octet-stream ： 二进制流数据（如常见的文件下载）  
application/x-www-form-urlencoded ： <form encType=””>中默认的encType，form表单数据被编码为key/value格式发送到服务器（表单默认的提交数据的格式）  
另外一种常见的媒体格式是上传文件之时使用的：  
multipart/form-data ： 需要在表单中进行文件上传时，就需要使用该格式  
HTTP content-type 对照表  
# DNS  
## 域名系统概述  
域名系统DNS(Domain Name System)是因特网使用的命名系统，用来把便于人们使用的机器名字转换成为IP地址。域名系统其实就是名字系统。为什么不叫“名字”而叫“域名”呢？这是因为在这种因特网的命名系统中使用了许多的“域(domain)”，因此就出现了“域名”这个名词。“域名系统”明确地指明这种系统是应用在因特网中。  
我们都知道，IP地址是由32位的二进制数字组成的。用户与因特网上某台主机通信时，显然不愿意使用很难记忆的长达32位的二进制主机地址。即使是点分十进制IP地址也并不太容易记忆。相反，大家愿意使用比较容易记忆的主机名字。但是，机器在处理IP数据报时，并不是使用域名而是使用IP地址。这是因为IP地址长度固定，而域名的长度不固定，机器处理起来比较困难。  
因为因特网规模很大，所以整个因特网只使用一个域名服务器是不可行的。因此，早在1983年因特网开始采用层次树状结构的命名方法，并使用分布式的域名系统DNS。并采用客户服务器方式。DNS使大多数名字都在本地解析(resolve)，仅有少量解析需要在因特网上通信，因此DNS系统的效率很高。由于DNS是分布式系统，即使单个计算机除了故障，也不会妨碍整个DNS系统的正常运行。  
域名到IP地址的解析是由分布在因特网上的许多域名服务器程序共同完成的。域名服务器程序在专设的结点上运行，而人们也常把运行域名服务器程序的机器称为域名服务器。  
域名到IP地址的解析过程的要点如下：当某一个应用需要把主机名解析为IP地址时，该应用进程就调用解析程序，并称为DNS的一个客户，把待解析的域名放在DNS请求报文中，以UDP用户数据报方式发给本地域名服务器。本地域名服务器在查找域名后，把对应的IP地址放在回答报文中返回。应用程序获得目的主机的IP地址后即可进行通信。  
若本地域名服务器不能回答该请求，则此域名服务器就暂时称为DNS的另一个客户，并向其他域名服务器发出查询请求。这种过程直至找到能够回答该请求的域名服务器为止。此过程在后面作进一步讨论。
## 因特网的域名结构  
由于因特网的用户数量较多，所以因特网在命名时采用的是层次树状结构的命名方法。任何一个连接在因特网上的主机或路由器，都有一个唯一的层次结构的名字，即域名(domain name)。这里，“域”(domain)是名字空间中一个可被管理的划分。  
从语法上讲，每一个域名都是有标号(label)序列组成，而各标号之间用点(小数点)隔开。  
如下例子所示：  
mail.cctv.com  
三级域名.二级域名.顶级域名  
DNS规定，域名中的标号都有英文和数字组成，每一个标号不超过63个字符(为了记忆方便，一般不会超过12个字符)，也不区分大小写字母。标号中除连字符(-)外不能使用其他的标点符号。级别最低的域名写在最左边，而级别最高的字符写在最右边。由多个标号组成的完整域名总共不超过255个字符。DNS既不规定一个域名需要包含多少个下级域名，也不规定每一级域名代表什么意思。各级域名由其上一级的域名管理机构管理，而最高的顶级域名则由ICANN进行管理。用这种方法可使每一个域名在整个互联网范围内是唯一的，并且也容易设计出一种查找域名的机制。  
域名只是逻辑概念，并不代表计算机所在的物理地点。据2006年12月统计，现在顶级域名TLD(Top Level Domain)已有265个，分为三大类：  
1. 国家顶级域名nTLD：采用ISO3166的规定。如：cn代表中国，us代表美国，uk代表英国，等等。国家域名又常记为ccTLD(cc表示国家代码contry-code)。  
2. 通用顶级域名gTLD：最常见的通用顶级域名有7个，即：com(公司企业)，net(网络服务机构)，org(非营利组织)，int(国际组织)，gov(美国的政府部门)，mil(美国的军事部门)。  
3. 基础结构域名(infrastructure domain)：这种顶级域名只有一个，即arpa，用于反向域名解析，因此称为反向域名。  
## 域名服务器  
如果采用上述的树状结构，每一个节点都采用一个域名服务器，这样会使得域名服务器的数量太多，使域名服务器系统的运行效率降低。所以在DNS中，采用划分区的方法来解决。  
一个服务器所负责管辖(或有权限)的范围叫做区(zone)。各单位根据具体情况来划分自己管辖范围的区。但在一个区中的所有节点必须是能够连通的。每一个区设置相应的权限域名服务器，用来保存该区中的所有主机到域名IP地址的映射。总之，DNS服务器的管辖范围不是以“域”为单位，而是以“区”为单位。区是DNS服务器实际管辖的范围。区 <= 域。  
根域名服务器：最高层次的域名服务器，也是最重要的域名服务器。所有的根域名服务器都知道所有的顶级域名服务器的域名和IP地址。不管是哪一个本地域名服务器，若要对因特网上任何一个域名进行解析，只要自己无法解析，就首先求助根域名服务器。所以根域名服务器是最重要的域名服务器。假定所有的根域名服务器都瘫痪了，那么整个DNS系统就无法工作。需要注意的是，在很多情况下，根域名服务器并不直接把待查询的域名直接解析出IP地址，而是告诉本地域名服务器下一步应当找哪一个顶级域名服务器进行查询。  
顶级域名服务器：负责管理在该顶级域名服务器注册的二级域名。  
权限域名服务器：负责一个“区”的域名服务器。  
本地域名服务器：本地服务器不属于下图的域名服务器的层次结构，但是它对域名系统非常重要。当一个主机发出DNS查询请求时，这个查询请求报文就发送给本地域名服务器。  
域名的解析过程  
主机向本地域名服务器的查询一般都是采用递归查询。所谓递归查询就是：如果主机所询问的本地域名服务器不知道被查询的域名的IP地址，那么本地域名服务器就以DNS客户的身份，向其它根域名服务器继续发出查询请求报文(即替主机继续查询)，而不是让主机自己进行下一步查询。因此，递归查询返回的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址。  
本地域名服务器向根域名服务器的查询的迭代查询。迭代查询的特点：当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地服务器进行后续的查询。根域名服务器通常是把自己知道的顶级域名服务器的IP地址告诉本地域名服务器，让本地域名服务器再向顶级域名服务器查询。顶级域名服务器在收到本地域名服务器的查询请求后，要么给出所要查询的IP地址，要么告诉本地服务器下一步应当向哪一个权限域名服务器进行查询。最后，知道了所要解析的IP地址或报错，然后把这个结果返回给发起查询的主机。  
下面举一个例子演示整个查询过程：  
假定域名为m.xyz.com的主机想知道另一个主机y.abc.com的IP地址。例如，主机m.xyz.com打算发送邮件给y.abc.com。这时就必须知道主机y.abc.com的IP地址。下面是几个查询步骤：  
1. 主机m.abc.com先向本地服务器dns.xyz.com进行递归查询。  
2. 本地服务器采用迭代查询。它先向一个根域名服务器查询。  
3. 根域名服务器告诉本地服务器，下一次应查询的顶级域名服务器dns.com的IP地址。  
4. 本地域名服务器向顶级域名服务器dns.com进行查询。  
5. 顶级域名服务器dns.com告诉本地域名服务器，下一步应查询的权限服务器dns.abc.com的IP地址。  
6. 本地域名服务器向权限域名服务器dns.abc.com进行查询。  
7. 权限域名服务器dns.abc.com告诉本地域名服务器，所查询的主机的IP地址。  
8. 本地域名服务器最后把查询结果告诉m.xyz.com。  
整个查询过程共用到了8个UDP报文。  
为了提高DNS查询效率，并减轻服务器的负荷和减少因特网上的DNS查询报文数量，在域名服务器中广泛使用了高速缓存，用来存放最近查询过的域名以及从何处获得域名映射信息的记录。  
例如，在上面的查询过程中，如果在m.xyz.com的主机上不久前已经有用户查询过y.abc.com的IP地址，那么本地域名服务器就不必向根域名服务器重新查询y.abc.com的IP地址，而是直接把告诉缓存中存放的上次查询结果(即y.abc.com的IP地址)告诉用户。  
由于名字到地址的绑定并不经常改变，为保持告诉缓存中的内容正确，域名服务器应为每项内容设置计时器并处理超过合理时间的项(例如每个项目两天)。当域名服务器已从缓存中删去某项信息后又被请求查询该项信息，就必须重新到授权管理该项的域名服务器绑定信息。当权限服务器回答一个查询请求时，在响应中都指明绑定有效存在的时间值。增加此时间值可减少网络开销，而减少此时间值可提高域名解析的正确性。  
不仅在本地域名服务器中需要高速缓存，在主机中也需要。许多主机在启动时从本地服务器下载名字和地址的全部数据库，维护存放自己最近使用的域名的高速缓存，并且只在从缓存中找不到名字时才使用域名服务器。维护本地域名服务器数据库的主机应当定期地检查域名服务器以获取新的映射信息，而且主机必须从缓存中删除无效的项。由于域名改动并不频繁，大多数网点不需花精力就能维护数据库的一致性。


